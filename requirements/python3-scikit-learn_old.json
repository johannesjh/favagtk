/* Shared module for building and installing scikit-learn*/
/* This file was written by hand, copied and modified from openpaperwork commit 776159823c91de0c9d558f00d76e494d6127e1f1*/
/* Changes applied to this version of the file include: */
/* - added this header */
/* - reformatted the file*/
/* - bumped version numbers */
/* - disabled SCIPY_USE_PYTHRAN because it would introduce yet another dependency */
{
  "name": "python-scikit-sklearn",
  "buildsystem": "simple",
  "ensure-writable": [
    "/lib/python*/site-packages/easy-install.pth",
    "/lib/python*/site-packages/setuptools.pth"
  ],
  "build-commands": [
    "python3 setup.py build -j 0",
    "python3 setup.py install --prefix=/app --root=/ --optimize=1"
  ],
  "sources": [
    {
      "type": "archive",
      "url": "https://files.pythonhosted.org/packages/db/e2/9c0bde5f81394b627f623557690536b12017b84988a4a1f98ec826edab9e/scikit-learn-0.24.0.tar.gz",
      "sha256": "076369634ee72b5a5941440661e2f306ff4ac30903802dc52031c7e9199ac640"
    }
  ],
  "modules": [
    {
      "name": "python-cython",
      "buildsystem": "simple",
      "ensure-writable": [
        "/lib/python*/site-packages/easy-install.pth",
        "/lib/python*/site-packages/setuptools.pth"
      ],
      "build-commands": [
        "python3 setup.py build -j 0",
        "python3 setup.py install --prefix=/app --root=/ --optimize=1"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://files.pythonhosted.org/packages/cb/da/54a5d7a7d9afc90036d21f4b58229058270cc14b4c81a86d9b2c77fd072e/Cython-0.29.28.tar.gz",
          "sha256": "d6fac2342802c30e51426828fe084ff4deb1b3387367cf98976bb2e64b6f8e45"
        }
      ]
    },
    {
      "name": "python-pybind11",
      "buildsystem": "simple",
      "ensure-writable": [
        "/lib/python*/site-packages/easy-install.pth",
        "/lib/python*/site-packages/setuptools.pth"
      ],
      "build-commands": [
        "python3 setup.py build -j 0",
        "python3 setup.py install --prefix=/app --root=/ --optimize=1"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://files.pythonhosted.org/packages/d8/47/2eb4be23fa8cc1a08c855c012c1aa4348d06ab1a5527f876515bbf689644/pybind11-2.6.1.tar.gz",
          "sha256": "ab7e60a520fe6ae25eca939191bb2ac416cd58478ce754740238a8bf1af18934"
        }
      ]
    },
    {
      "name": "lapack",
      "buildsystem": "cmake",
      "builddir": true,
      "buildsystem": "cmake",
      "builddir": true,
      "config-opts": [
        "-DCMAKE_INSTALL_prefix=/app --root=/ --optimize=1",
        "-DCMAKE_INSTALL_LIBDIR=lib",
        "-DCMAKE_BUILD_TYPE=Release",
        "-DBUILD_SHARED_LIBS=ON",
        "-DBUILD_TESTING=OFF",
        "-DLAPACKE=ON",
        "-DCBLAS=ON"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/Reference-LAPACK/lapack/archive/v3.9.0.tar.gz",
          "sha256": "106087f1bb5f46afdfba7f569d0cbe23dacb9a07cd24733765a0e89dbe1ad573"
        }
      ],
      "cleanup": ["/lib/cmake"]
    },
    {
      "name": "python-threadpoolctl",
      "buildsystem": "simple",
      "ensure-writable": [
        "/lib/python*/site-packages/easy-install.pth",
        "/lib/python*/site-packages/setuptools.pth"
      ],
      "build-commands": [
        "python3 setup.py build -j 0",
        "python3 setup.py install --prefix=/app --root=/ --optimize=1"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://files.pythonhosted.org/packages/f7/c2/34fa238d7126d3a4b1f78aebf35fbda9f8f1c8f64ae9c5ef323141f350f9/threadpoolctl-2.2.0.tar.gz",
          "sha256": "86d4b6801456d780e94681d155779058759eaef3c3564758b17b6c99db5f81cb"
        }
      ]
    },
    {
      "name": "python-joblib",
      "buildsystem": "simple",
      "ensure-writable": [
        "/lib/python*/site-packages/easy-install.pth",
        "/lib/python*/site-packages/setuptools.pth"
      ],
      "build-commands": [
        "python3 setup.py build -j 0",
        "python3 setup.py install --prefix=/app --root=/ --optimize=1"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://files.pythonhosted.org/packages/92/b9/9e3616e7e00c8165fb25175c53444533bdde05f3e974d45d9fcbbe451ee6/joblib-1.1.0.tar.gz",
          "sha256": "4158fcecd13733f8be669be0683b96ebdbbd38d23559f54dca7205aea1bf1e35"
        }
      ]
    },
    {
      "name": "python-numpy",
      "buildsystem": "simple",
      "ensure-writable": [
        "/lib/python*/site-packages/easy-install.pth",
        "/lib/python*/site-packages/setuptools.pth"
      ],
      "build-commands": [
        "python3 setup.py build -j 0",
        "python3 setup.py install --prefix=/app --root=/ --optimize=1"
      ],
      "build-options": {
        "env": {
          "ATLAS": "None",
          "BLAS": "/app/lib",
          "LAPACK": "/app/lib"
        }
      },
      "sources": [
        {
          "type": "archive",
          "url": "https://files.pythonhosted.org/packages/45/b7/de7b8e67f2232c26af57c205aaad29fe17754f793404f59c8a730c7a191a/numpy-1.21.6.zip",
          "sha256": "ecb55251139706669fdec2ff073c98ef8e9a84473e51e716211b41aa0f18e656"
        }
      ]
    },
    {
      "name": "python-scipy",
      "build-options": {
        "env": {
          "ATLAS": "None",
          "BLAS": "/app/lib",
          "LAPACK": "/app/lib",
          "LDFLAGS": "-shared",
          "SCIPY_USE_PYTHRAN": 0
        }
      },
      "buildsystem": "simple",
      "ensure-writable": [
        "/lib/python*/site-packages/easy-install.pth",
        "/lib/python*/site-packages/setuptools.pth"
      ],
      "build-commands": [
        "python3 setup.py build -j 0",
        "python3 setup.py install --prefix=/app --root=/ --optimize=1"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://files.pythonhosted.org/packages/61/67/1a654b96309c991762ee9bc39c363fc618076b155fe52d295211cf2536c7/scipy-1.7.3.tar.gz",
          "sha256": "ab5875facfdef77e0a47d5fd39ea178b58e60e454a4c85aa1e52fcb80db7babf"
        }
      ]
    }
  ]
}
